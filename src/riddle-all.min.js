/*
 Naosuke Yokoe - http://github.com/zentooo/Riddle.js - MIT Licensed */
(function(j,m,b){function c(a,d){if(typeof a==="string")return f(a,d,"querySelectorAll");else if(a instanceof HTMLElement)return k(i(a));else if(typeof a==="function")u?a(c):j.addEventListener("DOMContentLoaded",function(){a(c)},false)}function f(a,d,e){if(typeof d==="undefined"||d instanceof HTMLElement)return k(i((d||j)[e](a)));else if(d.__proto__===c.fn){var g=[];d.map(function(h){return i(h[e](a))}).forEach(function(h){h.forEach(function(q){g.push(q)})});return k(g)}}function i(a){if(a===null)return[];
else if(a instanceof HTMLElement)return[a];else if(typeof a.length==="number"&&typeof a.item==="function")return m.call(a)}function k(a){a.__proto__=c.fn;return a}function l(a,d){var e,g=d||"last";if(a.__proto__===c.fn){e=a.map(function(h){return h.outerHTML}).join("");this.forEach(function(h){l[g](h,e)})}else if(a instanceof HTMLElement){e=a.outerHTML;this.forEach(function(h){l[g](h,e)})}else typeof a==="string"&&this.forEach(function(h){l[g](h,a)});return this}function n(a,d){return a.filter(function(e){return e.event===
d})}function o(a){var d=[],e;for(e in a)d.push(b(e)+"="+b(a[e]));return"?"+d.join("&")}var p={},v=1,u=false;c.fn={detect:function(a){return this.filter(a)[0]},invoke:function(){var a=m.call(arguments),d=a.shift();return this.map(function(e){return e[d].apply(e,a)})},pluck:function(a){return this.map(function(d){return d[a]})},each:function(a){return this.forEach(function(d){a(k(i(d)))})},html:function(a){var d;if(typeof a==="undefined")return this.length===1?this[0].innerHTML:this.pluck("innerHTML").map(function(e){return e});
else if(typeof a==="string")this.forEach(function(e){e.innerHTML=a});else if(a instanceof HTMLElement)this.forEach(function(e){e.innerHTML=a.outerHTML});else if(a.__proto__===c.fn){d=a.map(function(e){return e.outerHTML}).join("");this.forEach(function(e){e.innerHTML=d})}return this},add:l,remove:function(){this.forEach(function(a){a.parentNode.removeChild(a)});return this},attr:function(a,d){if(typeof a==="string")if(typeof d==="undefined")return this.length===1?this[0].getAttribute(a):this.invoke("getAttribute",
a);else d===null?this.invoke("removeAttribute",a):this.invoke("setAttribute",a,String(d));else typeof a==="object"&&this.forEach(function(e){for(var g in a)a[g]===null?e.removeAttribute(g):e.setAttribute(g,String(a[g]))});return this},css:function(a,d){if(typeof a==="string")if(typeof d==="undefined")return this.length===1?getComputedStyle(this[0],"").getPropertyValue(a):this.map(function(e){return getComputedStyle(e,"").getPropertyValue(a)});else d===null?this.forEach(function(e){e.style.removeProperty(a)}):
this.forEach(function(e){e.style.setProperty(a,d,"")});else typeof a==="object"&&this.forEach(function(e){for(var g in a)a[g]===null?e.style.removeProperty(g):e.style.setProperty(g,a[g],"")});return this},addClass:function(a){this.forEach(function(d){d.className===""?d.className=a:d.className+=" "+a});return this},removeClass:function(a){var d=RegExp("(?:^|\\b)"+a+"(?:\\b|$)\\s?","g");this.forEach(function(e){var g=e.className.replace(d,"");e.className=g.replace(/\s+$/,"")});return this},hasClass:function(a){var d=
RegExp("(?:^|\\b)"+a+"(?:\\b|$)");return this.length===1?!!this[0].className.match(d):this.map(function(e){return!!e.className.match(d)})},bind:function(a,d,e){this.forEach(function(g){var h=g.nid||(g.nid=v++);h=p[h]||(p[h]=[]);h.push({event:a,callback:d,index:h.length});g.addEventListener(a,d,e||false)});return this},unbind:function(a){this.forEach(function(d){var e=d.nid||(d.nid=v++),g=a?n(p[e],a):p[e];g&&g.forEach(function(h){delete g[h.index];d.removeEventListener(h.event,h.callback,false)})});
return this}};j.addEventListener("DOMContentLoaded",function(){u=true},false);["click","submit","focus","blur","scroll","select","change"].forEach(function(a){c.fn[a]=function(d,e){this.bind(a,d,e)}});c.fn.__proto__=Array.prototype;l.prev=function(a,d){a.insertAdjacentHTML("beforeBegin",d)};l.first=function(a,d){a.insertAdjacentHTML("afterBegin",d)};l.last=function(a,d){a.insertAdjacentHTML("beforeEnd",d)};l.next=function(a,d){a.insertAdjacentHTML("afterEnd",d)};c.id=function(a,d){return f(a,d,"getElementById")};
c.cls=function(a,d){return f(a,d,"getElementsByClassName")};c.tag=function(a,d){return f(a,d,"getElementsByTagName")};c.ajax=function(a,d,e,g){var h=new XMLHttpRequest;g=g||{};e=e||function(){};var q=g.header||{},w=g.ctype||(g.method==="POST"?"application/x-www-form-urlencoded":""),s=g.data||"",t;h.onreadystatechange=function(){if(h.readyState===4)h.status>=200&&h.status<300?d(h.responseText,h):e(h)};if(typeof s==="object")s=o(s);h.open(g.method||"GET",a,true);w&&h.setRequestHeader("Content-Type",
w);h.setRequestHeader("X-Requested-With","XMLHttpRequest");for(t in q)h.setRequestHeader(t,q[t]);h.send(s)};c.version="0.2.5";window.r=c})(document,Array.prototype.slice,encodeURIComponent);(function(){function j(b,c,f){var i=0.3,k="ease-in-out",l,n=0,o={};if(c instanceof Array){o["-webkit-transform"]=c.join(" ");l=1}else if(typeof c==="object")l=m(c,o);if(typeof f==="object"){if(typeof f.duration==="number"||typeof f.duration==="string")i=f.duration;if(typeof f.easing==="string")k=f.easing;typeof f.callback==="function"&&b.bind("webkitTransitionEnd",function(p){++n;if(l===n){f.callback(p);b.unbind("webkitTransitionEnd")}})}o["-webkit-transition"]=i+"s "+k;b.css(o)}function m(b,c){var f,
i=0;for(f in b){c[f]=b[f];i++}return i}r.fn.animate=function(b,c){var f=0,i=this.length,k=c||{},l=typeof k.callback==="function"?k.callback:function(){};k.callback=function(){++f;console.log(f);console.log(i);f===i&&l()};this.each(function(n){j(n,b,k)})};r.fn.scale=function(b,c,f){this.animate(["scale("+b+","+c+")"],f)};r.fn.scaleX=function(b,c){this.animate(["scale("+b+",1.0)"],c)};r.fn.scaleY=function(b,c){this.animate(["scale(1.0,"+yScale+")"],c)};r.fn.move=function(b,c,f){if(typeof b==="number"&&
typeof c==="number")this.animate(["translate("+b+"px,"+c+"px)"],f);else typeof b==="string"&&typeof c==="string"&&this.animate(["translate("+b+","+c+")"],f)};r.fn.moveX=function(b,c){if(typeof b==="number")this.animate(["translateX("+b+"px)"],c);else typeof b==="string"&&this.animate(["translateX("+b+")"],c)};r.fn.moveY=function(b,c){if(typeof b==="number")this.animate(["translateY("+b+"px)"],c);else typeof b==="string"&&this.animate(["translateY("+b+")"],c)};r.fn.fadeIn=function(b){this.animate({opacity:1},
b)};r.fn.fadeOut=function(b){this.animate({opacity:0},b)};r.fn.show=function(b){this.animate({visibility:"visible"},b)};r.fn.hide=function(b){this.animate({visibility:"hidden"},b)}})();(function(j,m,b){function c(k,l){var n=l;if(typeof k!=="function")throw Error("First parameter should be function");if(typeof l==="undefined")throw Error("Second parameter should not be undefined");this.forEach(function(o){n=k(n,o)});return n}function f(){return this.replace(/(^\s+)|(\s+$)/g,"")}function i(k){return eval("("+k+")")}if(typeof m.reduce!=="function")m.reduce=c;if(typeof b.trim!=="function")b.trim=f;if(typeof j.JSON!=="object"){j.JSON={};j.JSON.parse=i}})(window,Array.prototype,String.prototype);(function(j,m,b){j.r.load=function(c,f){var i=0,k=c.length;c.forEach(function(l){var n=m.createElement("script");n.src=l;n.onload=function(){n.removeAttribute("onload");++i===k&&f()};b.appendChild(n)})}})(window,document,document.getElementsByTagName("head")[0]);(function(){function j(b){this.storage=b}function m(b){return m.sname||(m.sname=new j(window[b+"Storage"]))}j.prototype.set=function(b,c){if(typeof b==="number"||typeof b==="string")this.storage.setItem(b,JSON.stringify(c));else if(typeof c==="undefined")throw Error("typeof value is 'undefined'. Maybe you're doing something wrong");else throw Error("Given value as key is OK but seems not a good manner");};j.prototype.get=function(b){return typeof this.storage[b]==="undefined"?null:JSON.parse(this.storage.getItem(b))};
j.prototype.clear=function(){this.storage.clear()};j.prototype.size=function(){return this.storage.length};j.prototype.keys=function(){var b=[],c;for(c in this.storage)b.push(c);return b};j.prototype.values=function(){var b=[],c;for(c in this.storage)b.push(this.get(c));return b};r.storage=m})();r(function(){function j(c,f){var i=document.createEvent("Event");i.initEvent(f,true,true);c.dispatchEvent(i)}var m=document.body,b={x1:0,x2:0,y1:0,y2:0,target:null};r(m).bind("touchstart",function(c){b.x1=c.touches[0].clientX;b.y1=c.touches[0].clientY;b.target=c.touches[0].target});r(m).bind("touchmove",function(c){b.x2=c.touches[0].clientX;b.y2=c.touches[0].clientY});r(m).bind("touchend",function(c){var f=b.x1-b.x2,i=b.y1-b.y2,k=Math.abs(f),l=Math.abs(i);if(l>30&&l>k){c.preventDefault();i>=0?j(b.target,
"swipeup"):j(b.target,"swipedown")}else if(k>30&&k>l){c.preventDefault();f>=0?j(b.target,"swipeleft"):j(b.target,"swiperight")}b={x1:0,x2:0,y1:0,y2:0,target:null}});r(m).bind("touchcancel",function(){b={x1:0,x2:0,y1:0,y2:0,target:null}});["swipeleft","swiperight","swipeup","swipedown"].forEach(function(c){r.fn[c]=function(f,i){this.bind(c,f,i)}})});
