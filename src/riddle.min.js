/*
 Naosuke Yokoe - http://github.com/zentooo/Riddle.js - MIT Licensed */
(function(j,d,n,o,m,k){function c(a,b){if(typeof a==="string")return g(o.call((b||d).querySelectorAll(a)));else if(typeof a==="object"&&a!==null&&typeof a.addEventListener==="function")return g([a]);else if(n(a))return g(a);else if(typeof a==="function")c.domReady?a(c):d.addEventListener("DOMContentLoaded",function(){a(c)},!1),c.init=a}function g(a){a.__proto__=c.fn;return a}function i(a){return a.__nid||(a.__nid=c.__nid++)}c.listeners={};c.__nid=1;c.domReady=!1;d.addEventListener("DOMContentLoaded",
function(){c.domReady=!0},!1);c.fn={each:function(a){return this.forEach(function(b){a(c.wrap([b]))})},html:function(a){return a===k?this[0].innerHTML:(typeof a==="string"||typeof a==="number"?this.forEach(function(b){b.innerHTML=a}):a instanceof HTMLElement?this.forEach(function(b){b.innerHTML=a.outerHTML}):c.isR(a)&&this.forEach(function(b){b.innerHTML=a[0].outerHTML}),this)},remove:function(){this.forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)});return this},add:function(a){var b;
typeof a==="string"||typeof a==="number"?this.forEach(function(b){b.insertAdjacentHTML("beforeEnd",a)}):a instanceof HTMLElement?this.forEach(function(b){b.appendChild(a)}):c.isR(a)&&(b=d.createDocumentFragment(),a.forEach(function(a){b.appendChild(a)}),this.forEach(function(a){a.appendChild(b)}));return this},attr:function(a,b){if(typeof a==="string")if(b===k)return this[0].getAttribute(a);else b===null?this.forEach(function(b){b.removeAttribute(a)}):this.forEach(function(c){c.setAttribute(a,String(b))});
else typeof a==="object"&&this.forEach(function(b){for(var c in a)a[c]===null?b.removeAttribute(c):b.setAttribute(c,String(a[c]))});return this},css:function(a,b){if(typeof a==="string")if(b===k)return getComputedStyle(this[0],null).getPropertyValue(a);else b===null?this.forEach(function(b){b.style.removeProperty(a)}):this.forEach(function(c){c.style.setProperty(a,b,null)});else typeof a==="object"&&this.forEach(function(b){var c=";",l;for(l in a)a[l]===null?b.style.removeProperty(l):c+=l+":"+a[l]+
";";b.style.cssText+=c});return this},addClass:function(a){this.forEach(function(b){var h;if(!c(b).hasClass(a))h=b.className.split(" "),h.push(a),b.className=h.join(" ")});return this},removeClass:function(a){this.forEach(function(b){var c=b.className.split(" ");b.className=c.filter(function(b){return b!==a}).join(" ")});return this},hasClass:function(a){return!!this[0].className.match(RegExp("(?:^|\\b)"+a+"(?:\\b|$)"))},toggleClass:function(a){this.hasClass(a)?this.removeClass(a):this.addClass(a)},
bind:function(a,b,h){var e=a.split(" ");this.forEach(function(a){var f=i(a),d=c.listeners[f]||(c.listeners[f]=[]);e.forEach(function(c){d.push({event:c,callback:b,index:d.length,useCapture:h||!1});a.addEventListener(c,b,h||!1)})});return this},unbind:function(a){function b(a,b){return a.filter(function(a){return a.event===b})}this.forEach(function(h){var e=i(h),d=a?b(c.listeners[e]||[],a):c.listeners[e];d&&d.forEach(function(a){delete d[a.index];h.removeEventListener(a.event,a.callback,a.useCapture)})});
return this},trigger:function(a){var b=d.createEvent("Event");b.initEvent(a,!0,!0);this.forEach(function(a){a.dispatchEvent(b)});return this}};c.fn.__proto__=[];c.ajax=function(a,b,c,e){function d(a){var b=[],c;for(c in a)b.push(m(c)+"="+m(a[c]));return b.join("&")}var f=new XMLHttpRequest,e=e||{},b=b||function(){},c=c||function(){},g=e.method||"GET",j=e.header||{},k=e.ctype||(g==="POST"?"application/x-www-form-urlencoded":""),e=e.data||"",i;f.onreadystatechange=function(){f.readyState===4&&(f.status>=
200&&f.status<300?b(f.responseText,f):c(f))};typeof e==="object"&&(e=d(e));f.open(g,a,!0);k&&f.setRequestHeader("Content-Type",k);f.setRequestHeader("X-Requested-With","XMLHttpRequest");for(i in j)f.setRequestHeader(i,j[i]);f.send(e);return f};c.get=function(a,b,d,e){c.ajax(a,d,e,{data:b,method:"GET"})};c.post=function(a,b,d,e){c.ajax(a,d,e,{data:b,method:"POST"})};c.id=function(a,b){var c=(b||d).getElementById(a);return c?g([c]):g([])};c.cls=function(a,b){return g((b||d).getElementsByClassName(a))};
c.tag=function(a,b){return g((b||d).getElementsByTagName(a))};c.isR=function(a){return a.__proto__===c.fn};c.wrap=g;c.nodeId=i;c.on=c.bind;c.off=c.unbind;c.version="0.4.0";j.r=c})(this,document,Array.isArray||function(j){return j instanceof Array},Array.prototype.slice,encodeURIComponent);
