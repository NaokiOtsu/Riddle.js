(function(k,o,p){function f(a,b){if(typeof a==="string")return h(a,b,"querySelectorAll");else if(a instanceof HTMLElement)return l(m(a));else if(typeof a==="function")q?a(f):k.addEventListener("DOMContentLoaded",function(){a(f)},false)}function h(a,b,c){if(typeof b==="undefined"||b instanceof HTMLElement)return l(m((b||k)[c](a)));else if(b.__proto__===f.fn){b=b.map(function(e){return m(e[c](a))});return l(b.reduce(function(e,d){return e.concat(d)},[]))}}function m(a){if(a instanceof HTMLElement)return[a];
else if(typeof a.length==="number"&&typeof a.item==="function")return o.call(a)}function l(a){a.__proto__=f.fn;return a}function g(a,b){var c,e=b||"last";if(a.__proto__===f.fn){c=a.map(function(d){return d.outerHTML}).join("");this.forEach(function(d){g[e](d,c)})}else if(a instanceof HTMLElement){c=a.outerHTML;this.forEach(function(d){g[e](d,c)})}else typeof a==="string"&&this.forEach(function(d){g[e](d,a)});return this}function u(a,b){return a.filter(function(c){return c.event===b})}function v(a){var b=
[],c;for(c in a)b.push(p(c)+"="+p(a[c]));return"?"+b.join("&")}var i={},r=1,q=false;f.fn={detect:function(a){return this.filter(a)[0]},invoke:function(){var a=o.call(arguments),b=a.shift();return this.map(function(c){return c[b].apply(c,a)})},pluck:function(a){return this.map(function(b){return b[a]})},html:function(a){var b;if(typeof a==="undefined")return this.length===1?this[0].innerHTML:this.pluck("innerHTML").map(function(c){return c});else if(typeof a==="string")this.forEach(function(c){c.innerHTML=
a});else if(a instanceof HTMLElement)this.forEach(function(c){c.innerHTML=a.outerHTML});else if(a.__proto__===f.fn){b=a.map(function(c){return c.outerHTML}).join("");this.forEach(function(c){c.innerHTML=b})}return this},add:g,remove:function(){this.forEach(function(a){a.parentNode.removeChild(a)});return this},attr:function(a,b){if(typeof a==="string")if(typeof b==="undefined")return this.length===1?this[0].getAttribute(a):this.invoke("getAttribute",a);else this.invoke("setAttribute",a,String(b));
else typeof a==="object"&&this.forEach(function(c){for(var e in a)c.setAttribute(e,String(a[e]))});return this},css:function(a,b){if(typeof a==="string")if(typeof b==="undefined")return this.length===1?getComputedStyle(this[0],"").getPropertyValue(a):this.map(function(c){return getComputedStyle(c,"").getPropertyValue(a)});else this.forEach(function(c){c.style.setProperty(a,b,"")});else typeof a==="object"&&this.forEach(function(c){for(var e in a)c.style.setProperty(e,a[e],"")});return this},addClass:function(a){this.forEach(function(b){b.className=
b.className.trim()+" "+a});return this},removeClass:function(a){var b=RegExp("(?:^|\\b)"+a+"(?:\\b|$)\\s?","g");this.forEach(function(c){c.className=c.className.replace(b,"")});return this},hasClass:function(a){var b=RegExp("(?:^|\\b)"+a+"(?:\\b|$)");return this.length===1?!!this[0].className.match(b):this.map(function(c){return!!c.className.match(b)})},bind:function(a,b,c){this.forEach(function(e){var d=e.nid||(e.nid=r++);d=i[d]||(i[d]=[]);d.push({event:a,callback:b,index:d.length});e.addEventListener(a,
b,c||false)});return this},unbind:function(a){this.forEach(function(b){var c=b.nid||(b.nid=r++),e=a?u(i[c],a):i[c];e&&e.forEach(function(d){delete e[d.index];b.removeEventListener(d.event,d.callback,false)})});return this}};k.addEventListener("DOMContentLoaded",function(){q=true},false);["click","submit","focus","blur","scroll","select","change"].forEach(function(a){f.fn[a]=function(b,c){this.bind(a,b,c)}});f.fn.__proto__=Array.prototype;g.prev=function(a,b){a.insertAdjacentHTML("beforeBegin",b)};
g.first=function(a,b){a.insertAdjacentHTML("afterBegin",b)};g.last=function(a,b){a.insertAdjacentHTML("beforeEnd",b)};g.next=function(a,b){a.insertAdjacentHTML("afterEnd",b)};f.id=function(a,b){return h(a,b,"getElementById")};f.cls=function(a,b){return h(a,b,"getElementsByClassName")};f.tag=function(a,b){return h(a,b,"getElementsByTagName")};f.ajax=function(a,b,c,e){var d=new XMLHttpRequest;e=e||{};c=c||function(){};var s=e.header||{},t=e.ctype||(e.method==="POST"?"application/x-www-form-urlencoded":
""),j=e.data||"",n;d.onreadystatechange=function(){if(d.readyState===4)d.status>=200&&d.status<300?b(d.responseText,d):c(d)};if(typeof j==="object")j=v(j);d.open(e.method||"GET",a,true);t&&d.setRequestHeader("Content-Type",t);d.setRequestHeader("X-Requested-With","XMLHttpRequest");for(n in s)d.setRequestHeader(n,s[n]);d.send(j)};f.version="0.2.1";window.r=f})(document,Array.prototype.slice,encodeURIComponent);
