(function(l,m,n){function e(a,b){if(typeof a==="string")return h(a,b,"querySelectorAll");else if(a instanceof HTMLElement)return i(j(a));else typeof a==="function"&&(o?a(e):l.addEventListener("DOMContentLoaded",function(){a(e)},!1))}function h(a,b,c){if(typeof b==="undefined"||b instanceof HTMLElement)return i(j((b||l)[c](a)));else if(b.__proto__===e.fn)return b=b.map(function(b){return j(b[c](a))}),i(b.reduce(function(a,b){return a.concat(b)},[]))}function j(a){if(a instanceof HTMLElement)return[a];
else if(typeof a.length==="number"&&typeof a.item==="function")return m.call(a)}function i(a){a.__proto__=e.fn;return a}function g(a,b){var c,d=b||"last";a.__proto__===e.fn?(c=a.map(function(a){return a.outerHTML}).join(""),this.forEach(function(a){g[d](a,c)})):a instanceof HTMLElement?(c=a.outerHTML,this.forEach(function(a){g[d](a,c)})):typeof a==="string"&&this.forEach(function(b){g[d](b,a)});return this}function q(a,b){return a.filter(function(a){return a.event===b})}function r(a){var b=[],c;for(c in a)b.push(n(c)+
"="+n(a[c]));return"?"+b.join("&")}var k={},p=1,o=!1;e.fn={detect:function(a){return this.filter(a)[0]},invoke:function(){var a=m.call(arguments),b=a.shift();return this.map(function(c){return c[b].apply(c,a)})},pluck:function(a){return this.map(function(b){return b[a]})},each:function(a){return this.forEach(function(b){a(i(j(b)))})},html:function(a){var b;if(typeof a==="undefined")return this.length===1?this[0].innerHTML:this.pluck("innerHTML").map(function(a){return a});else typeof a==="string"?
this.forEach(function(b){b.innerHTML=a}):a instanceof HTMLElement?this.forEach(function(b){b.innerHTML=a.outerHTML}):a.__proto__===e.fn&&(b=a.map(function(a){return a.outerHTML}).join(""),this.forEach(function(a){a.innerHTML=b}));return this},add:g,remove:function(){this.forEach(function(a){a.parentNode.removeChild(a)});return this},attr:function(a,b){if(typeof a==="string")if(typeof b==="undefined")return this.length===1?this[0].getAttribute(a):this.invoke("getAttribute",a);else this.invoke("setAttribute",
a,String(b));else typeof a==="object"&&this.forEach(function(b){for(var d in a)b.setAttribute(d,String(a[d]))});return this},removeAttr:function(a){var b=a;typeof b==="string"&&(b=[b]);this.forEach(function(a){b.forEach(function(b){a.removeAttribute(b)})});return this},css:function(a,b){if(typeof a==="string")if(typeof b==="undefined")return this.length===1?getComputedStyle(this[0],"").getPropertyValue(a):this.map(function(b){return getComputedStyle(b,"").getPropertyValue(a)});else this.forEach(function(c){c.style.setProperty(a,
b,"")});else typeof a==="object"&&this.forEach(function(b){for(var d in a)b.style.setProperty(d,a[d],"")});return this},addClass:function(a){this.forEach(function(b){b.className=b.className.trim()+" "+a});return this},removeClass:function(a){var b=RegExp("(?:^|\\b)"+a+"(?:\\b|$)\\s?","g");this.forEach(function(a){a.className=a.className.replace(b,"")});return this},hasClass:function(a){var b=RegExp("(?:^|\\b)"+a+"(?:\\b|$)");return this.length===1?!!this[0].className.match(b):this.map(function(a){return!!a.className.match(b)})},
bind:function(a,b,c){this.forEach(function(d){var f=d.nid||(d.nid=p++),f=k[f]||(k[f]=[]);f.push({event:a,callback:b,index:f.length});d.addEventListener(a,b,c||!1)});return this},unbind:function(a){this.forEach(function(b){var c=b.nid||(b.nid=p++),d=a?q(k[c],a):k[c];d&&d.forEach(function(a){delete d[a.index];b.removeEventListener(a.event,a.callback,!1)})});return this}};l.addEventListener("DOMContentLoaded",function(){o=!0},!1);["click","submit","focus","blur","scroll","select","change"].forEach(function(a){e.fn[a]=
function(b,c){this.bind(a,b,c)}});e.fn.__proto__=Array.prototype;g.prev=function(a,b){a.insertAdjacentHTML("beforeBegin",b)};g.first=function(a,b){a.insertAdjacentHTML("afterBegin",b)};g.last=function(a,b){a.insertAdjacentHTML("beforeEnd",b)};g.next=function(a,b){a.insertAdjacentHTML("afterEnd",b)};e.id=function(a,b){return h(a,b,"getElementById")};e.cls=function(a,b){return h(a,b,"getElementsByClassName")};e.tag=function(a,b){return h(a,b,"getElementsByTagName")};e.ajax=function(a,b,c,d){var f=new XMLHttpRequest,
d=d||{},c=c||function(){},e=d.header||{},g=d.ctype||(d.method==="POST"?"application/x-www-form-urlencoded":""),h=d.data||"",i;f.onreadystatechange=function(){f.readyState===4&&(f.status>=200&&f.status<300?b(f.responseText,f):c(f))};typeof h==="object"&&(h=r(h));f.open(d.method||"GET",a,!0);g&&f.setRequestHeader("Content-Type",g);f.setRequestHeader("X-Requested-With","XMLHttpRequest");for(i in e)f.setRequestHeader(i,e[i]);f.send(h)};e.version="0.2.3";window.r=e})(document,Array.prototype.slice,encodeURIComponent);
