/*
 Naosuke Yokoe - http://github.com/zentooo/Riddle.js - MIT Licensed */
(function(h,n,o){function f(a,b){if(typeof a==="string")return i(a,b,"querySelectorAll");else if(a instanceof HTMLElement)return j(k(a));else if(typeof a==="function")p?a(f):h.addEventListener("DOMContentLoaded",function(){a(f)},false)}function i(a,b,c){if(typeof b==="undefined"||b instanceof HTMLElement)return j(k((b||h)[c](a)));else if(b.__proto__===f.fn){var e=[];b.map(function(d){return k(d[c](a))}).forEach(function(d){d.forEach(function(g){e.push(g)})});return j(e)}}function k(a){if(a===null)return[];
else if(a instanceof HTMLElement)return[a];else if(typeof a.length==="number"&&typeof a.item==="function")return n.call(a)}function j(a){a.__proto__=f.fn;return a}function t(a,b){return a.filter(function(c){return c.event===b})}function u(a){var b=[],c;for(c in a)b.push(o(c)+"="+o(a[c]));return b.join("&")}var l={},q=1,p=false;f.fn={detect:function(a){return this.filter(a)[0]},invoke:function(){var a=n.call(arguments),b=a.shift();return this.map(function(c){return c[b].apply(c,a)})},pluck:function(a){return this.map(function(b){return b[a]})},
each:function(a){return this.forEach(function(b){a(j(k(b)))})},html:function(a){var b;if(typeof a==="undefined")return this.length===1?this[0].innerHTML:this.pluck("innerHTML").map(function(c){return c});else if(typeof a==="string"||typeof a==="number")this.forEach(function(c){c.innerHTML=a});else if(a instanceof HTMLElement)this.forEach(function(c){c.innerHTML=a.outerHTML});else if(a.__proto__===f.fn){b=a.map(function(c){return c.outerHTML}).join("");this.forEach(function(c){c.innerHTML=b})}return this},
add:function(a){var b;if(typeof a==="string")this.forEach(function(c){c.insertAdjacentHTML("beforeEnd",a)});else if(a instanceof HTMLElement)this.forEach(function(c){c.appendChild(a)});else if(a.__proto__===f.fn){b=h.createDocumentFragment();a.forEach(function(c){b.appendChild(c)});this.forEach(function(c){c.appendChild(b)})}return this},remove:function(){this.forEach(function(a){a.parentNode.removeChild(a)});return this},attr:function(a,b){if(typeof a==="string")if(typeof b==="undefined")return this.length===
1?this[0].getAttribute(a):this.invoke("getAttribute",a);else b===null?this.invoke("removeAttribute",a):this.invoke("setAttribute",a,String(b));else typeof a==="object"&&this.forEach(function(c){for(var e in a)a[e]===null?c.removeAttribute(e):c.setAttribute(e,String(a[e]))});return this},css:function(a,b){if(typeof a==="string")if(typeof b==="undefined")return this.length===1?getComputedStyle(this[0],"").getPropertyValue(a):this.map(function(c){return getComputedStyle(c,"").getPropertyValue(a)});else b===
null?this.forEach(function(c){c.style.removeProperty(a)}):this.forEach(function(c){c.style.setProperty(a,b,"")});else typeof a==="object"&&this.forEach(function(c){var e=";",d;for(d in a)if(a[d]===null)c.style.removeProperty(d);else e+=d+":"+a[d]+";";c.style.cssText+=e});return this},addClass:function(a){this.forEach(function(b){b.className===""?b.className=a:b.className+=" "+a});return this},removeClass:function(a){var b=RegExp("(?:^|\\b)"+a+"(?:\\b|$)\\s?","g");this.forEach(function(c){var e=c.className.replace(b,
"");c.className=e.replace(/\s+$/,"")});return this},hasClass:function(a){var b=RegExp("(?:^|\\b)"+a+"(?:\\b|$)");return this.length===1?!!this[0].className.match(b):this.map(function(c){return!!c.className.match(b)})},swapClass:function(a,b){this.removeClass(a);this.addClass(b)},bind:function(a,b,c){this.forEach(function(e){var d=e.nid||(e.nid=q++);d=l[d]||(l[d]=[]);d.push({event:a,callback:b,index:d.length});e.addEventListener(a,b,c||false)});return this},unbind:function(a){this.forEach(function(b){var c=
b.nid||(b.nid=q++),e=a?t(l[c],a):l[c];e&&e.forEach(function(d){delete e[d.index];b.removeEventListener(d.event,d.callback,false)})});return this},delegate:function(a,b,c){this.bind(b,function(e){var d=f(a,this).detect(function(g){g=g.compareDocumentPosition(g.target);return g===0||g|Node.DOCUMENT_POSITION_CONTAINED_BY});d&&c.call(d,e)})}};h.addEventListener("DOMContentLoaded",function(){p=true},false);f.fn.__proto__=[];f.id=function(a,b){return i(a,b,"getElementById")};f.cls=function(a,b){return i(a,
b,"getElementsByClassName")};f.tag=function(a,b){return i(a,b,"getElementsByTagName")};f.ajax=function(a,b,c,e){var d=new XMLHttpRequest;e=e||{};b=b||function(){};c=c||function(){};var g=e.method||"GET",r=e.header||{},s=e.ctype||(g==="POST"?"application/x-www-form-urlencoded":"");e=e.data||"";var m;d.onreadystatechange=function(){if(d.readyState===4)d.status>=200&&d.status<300?b(d.responseText,d):c(d)};if(typeof e==="object")e=u(e);d.open(g,a,true);s&&d.setRequestHeader("Content-Type",s);d.setRequestHeader("X-Requested-With",
"XMLHttpRequest");for(m in r)d.setRequestHeader(m,r[m]);d.send(e)};f.version="0.2.9";window.r=f})(document,Array.prototype.slice,encodeURIComponent);
