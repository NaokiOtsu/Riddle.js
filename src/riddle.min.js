/*
 Naosuke Yokoe - http://github.com/zentooo/Riddle.js - MIT Licensed */
(function(i,m,n){function f(a,b){if(typeof a==="string")return h(a,b,"querySelectorAll");else if(a instanceof HTMLElement)return j(k(a));else typeof a==="function"&&(o?a(f):i.addEventListener("DOMContentLoaded",function(){a(f)},!1))}function h(a,b,d){if(typeof b==="undefined"||b instanceof HTMLElement)return j(k((b||i)[d](a)));else if(b.__proto__===f.fn){var c=[];b.map(function(b){return k(b[d](a))}).forEach(function(a){a.forEach(function(a){c.push(a)})});return j(c)}}function k(a){if(a===null)return[];
else if(a instanceof HTMLElement)return[a];else if(typeof a.length==="number"&&typeof a.item==="function")return m.call(a)}function j(a){a.__proto__=f.fn;return a}function g(a,b){var d,c=b||"last";typeof a==="string"?this.forEach(function(b){g[c](b,a)}):a instanceof HTMLElement?(d=a.outerHTML,this.forEach(function(a){g[c](a,d)})):a.__proto__===f.fn&&(d=a.map(function(a){return a.outerHTML}).join(""),this.forEach(function(a){g[c](a,d)}));return this}function r(a,b){return a.filter(function(a){return a.event===
b})}function s(a){var b=[],d;for(d in a)b.push(n(d)+"="+n(a[d]));return b.join("&")}var l={},p=1,q,o=!1;f.fn={detect:function(a){return this.filter(a)[0]},invoke:function(){var a=m.call(arguments),b=a.shift();return this.map(function(d){return d[b].apply(d,a)})},pluck:function(a){return this.map(function(b){return b[a]})},each:function(a){return this.forEach(function(b){a(j(k(b)))})},html:function(a){var b;if(typeof a==="undefined")return this.length===1?this[0].innerHTML:this.pluck("innerHTML").map(function(a){return a});
else typeof a==="string"||typeof a==="number"?this.forEach(function(b){b.innerHTML=a}):a instanceof HTMLElement?this.forEach(function(b){b.innerHTML=a.outerHTML}):a.__proto__===f.fn&&(b=a.map(function(a){return a.outerHTML}).join(""),this.forEach(function(a){a.innerHTML=b}));return this},add:g,remove:function(){this.forEach(function(a){a.parentNode.removeChild(a)});return this},attr:function(a,b){if(typeof a==="string")if(typeof b==="undefined")return this.length===1?this[0].getAttribute(a):this.invoke("getAttribute",
a);else b===null?this.invoke("removeAttribute",a):this.invoke("setAttribute",a,String(b));else typeof a==="object"&&this.forEach(function(b){for(var c in a)a[c]===null?b.removeAttribute(c):b.setAttribute(c,String(a[c]))});return this},css:function(a,b){if(typeof a==="string")if(typeof b==="undefined")return this.length===1?getComputedStyle(this[0],"").getPropertyValue(a):this.map(function(b){return getComputedStyle(b,"").getPropertyValue(a)});else b===null?this.forEach(function(b){b.style.removeProperty(a)}):
this.forEach(function(d){d.style.setProperty(a,b,"")});else typeof a==="object"&&this.forEach(function(b){var c=";",e;for(e in a)a[e]===null?b.style.removeProperty(e):c+=e+":"+a[e]+";";b.style.cssText+=c});return this},addClass:function(a){this.forEach(function(b){b.className===""?b.className=a:b.className+=" "+a});return this},removeClass:function(a){var b=RegExp("(?:^|\\b)"+a+"(?:\\b|$)\\s?","g");this.forEach(function(a){var c=a.className.replace(b,"");a.className=c.replace(/\s+$/,"")});return this},
hasClass:function(a){var b=RegExp("(?:^|\\b)"+a+"(?:\\b|$)");return this.length===1?!!this[0].className.match(b):this.map(function(a){return!!a.className.match(b)})},swapClass:function(a,b){this.removeClass(a);this.addClass(b)},bind:function(a,b,d){this.forEach(function(c){var e=c.nid||(c.nid=p++),e=l[e]||(l[e]=[]);e.push({event:a,callback:b,index:e.length});c.addEventListener(a,b,d||!1)});return this},unbind:function(a){this.forEach(function(b){var d=b.nid||(b.nid=p++),c=a?r(l[d],a):l[d];c&&c.forEach(function(a){delete c[a.index];
b.removeEventListener(a.event,a.callback,!1)})});return this}};i.addEventListener("DOMContentLoaded",function(){q=f(i.body);o=!0},!1);f.fn.__proto__=[];g.prev=function(a,b){a.insertAdjacentHTML("beforeBegin",b)};g.first=function(a,b){a.insertAdjacentHTML("afterBegin",b)};g.last=function(a,b){a.insertAdjacentHTML("beforeEnd",b)};g.next=function(a,b){a.insertAdjacentHTML("afterEnd",b)};f.id=function(a,b){return h(a,b,"getElementById")};f.cls=function(a,b){return h(a,b,"getElementsByClassName")};f.tag=
function(a,b){return h(a,b,"getElementsByTagName")};f.ajax=function(a,b,d,c){var e=new XMLHttpRequest,c=c||{},b=b||function(){},d=d||function(){},f=c.method||"GET",g=c.header||{},i=c.ctype||(f==="POST"?"application/x-www-form-urlencoded":""),c=c.data||"",h;e.onreadystatechange=function(){e.readyState===4&&(e.status>=200&&e.status<300?b(e.responseText,e):d(e))};typeof c==="object"&&(c=s(c));e.open(f,a,!0);i&&e.setRequestHeader("Content-Type",i);e.setRequestHeader("X-Requested-With","XMLHttpRequest");
for(h in g)e.setRequestHeader(h,g[h]);e.send(c)};f.delegate=function(a,b,d){q.bind(b,function(b){f(a).detect(function(a){return a===b.target})&&d(b)})};f.version="0.2.8";window.r=f})(document,Array.prototype.slice,encodeURIComponent);
